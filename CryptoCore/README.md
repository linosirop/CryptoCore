README
1. Назначение проекта

Программа реализует шифрование и расшифрование данных с использованием алгоритма AES-128 в режимах ECB, CBC, CFB, OFB и CTR. Реализация совместима с OpenSSL и поддерживает файловый ввод/вывод в бинарном формате.

2. Возможности

AES-128 шифрование/дешифрование.

Поддерживаемые режимы:
ecb, cbc, cfb, ofb, ctr.

PKCS#7 выравнивание для блочных режимов.

Автоматическая генерация IV (кроме ECB).

Чтение и запись IV в файл (префикс перед данными).

Работа с файлами произвольного размера.

3. Зависимости

OpenSSL (версия 3.x или совместимая).

C++17.

Windows (MinGW/MSVC) или Linux.

4. Формат использования
cryptocore --algorithm aes --mode <mode> (--encrypt | --decrypt)
            --key <hex>
            --input <файл>
            --output <файл>
            [--iv <hex>]

Параметры
Параметр	Описание
--algorithm aes	Алгоритм шифрования (обязательный).
--mode	Режим AES: ecb/cbc/cfb/ofb/ctr.
--encrypt	Шифрование.
--decrypt	Дешифрование.
--key	Ключ AES-128 (32 hex-символа).
--iv	Необязательный IV (для режимов кроме ECB).
--input	Входной файл.
--output	Выходной файл.
Пример шифрования (ECB)
cryptocore --algorithm aes --mode ecb --encrypt --key 00112233445566778899aabbccddeeff --input plain.txt --output enc.bin

Пример дешифрования (CBC)
cryptocore --algorithm aes --mode ecb --decrypt --key 00112233445566778899aabbccddeeff --input enc.bin --output dec.txt

5. Формат файлов
ECB

данные → ciphertext
(без IV)

CBC/CFB/OFB/CTR

При шифровании (если IV не задан вручную):

[16-байтовый IV] + [ciphertext]


При дешифровании:

если IV не указан — считывается автоматически из файла

если указан — файл интерпретируется как «чистый cipher-текст»

6. Реализация

Блочные режимы основаны на AES_encrypt / AES_decrypt (OpenSSL).

Для CBC, CFB, OFB и CTR реализована пошаговая обработка блоков.

PKCS#7 корректно применяется только в блочных режимах (ECB/CBC).

В потоковых режимах (CFB/OFB/CTR) padding не используется.

7. Тестирование

Проверка выполнена через:

сравнение с openssl enc для всех режимов;

тесты на малых и больших файлах, включая 1 MB;

контроль совпадения ciphertext и plaintext после обратного преобразования.

Все тесты прошли успешно.

Для автотеста запустите test_all_modes(SPRINT 2).bat в папке tests